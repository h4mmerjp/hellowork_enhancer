# Hello Work Enhancer

ハローワーク求人検索サイトの検索結果に、ソート機能と全件取得機能を追加するChrome拡張機能です。

## 主な機能

- **全件自動取得**: 全ページを自動巡回して全求人データを一括取得
- **賃金順ソート**: 賃金の上限・下限でソート可能
- **就業時間順ソート**: 就業時間の短い順に並び替え
- **シンプルなUI**: 画面右上の浮動パネルから簡単操作

## スクリーンショット

拡張機能を有効にすると、検索結果ページの右上にコントロールパネルが表示されます。

## インストール方法

### 前提条件
- Google Chrome または Chromium ベースのブラウザ

### 手順

1. **リポジトリをクローン**
   ```bash
   git clone https://github.com/h4mmerjp/hellowork_enhancer.git
   cd hellowork_enhancer
   ```

2. **Chrome拡張機能の管理画面を開く**
   - Chromeのアドレスバーに `chrome://extensions` と入力してEnterキーを押す
   - または、メニュー > 拡張機能 > 拡張機能を管理 を選択

3. **デベロッパーモードを有効にする**
   - 画面右上の「デベロッパーモード」スイッチをONにする

4. **パッケージ化されていない拡張機能を読み込む**
   - 左上の「パッケージ化されていない拡張機能を読み込む」ボタンをクリック
   - クローンしたフォルダ (`hellowork_enhancer`) を選択

5. **インストール完了**
   - 拡張機能一覧に「Hello Work Enhancer」が表示されればOK

## 使い方

### 基本的な使い方

1. [ハローワーク求人検索](https://www.hellowork.mhlw.go.jp/kensaku/GECA110010.do) にアクセス
2. 条件を入力して検索を実行
3. 検索結果画面の右上に「ハローワーク拡張機能」パネルが表示される

### モード1: 表示中のページのみをソート

最大50件の求人を素早くソートしたい場合に便利です。

1. **表示件数を増やす** (オプション)
   - 検索結果画面下部の「表示件数」を「50件」に変更推奨

2. **「表示中の求人のみ読み込む」ボタンをクリック**
   - 現在のページの求人データを解析

3. **ソートボタンをクリック**
   - 賃金順 (上限が高い順)
   - 賃金順 (下限が高い順)
   - 就業時間順 (短い順)

### モード2: 全ページ自動取得

検索結果が複数ページにまたがる場合、全データを一括取得してソートできます。

1. **「全件取得開始 (自動ページ送り)」ボタンをクリック**
   - 確認ダイアログが表示される

2. **確認してOKをクリック**
   - 自動的に全ページを巡回開始
   - 画面が切り替わり、データ取得中のオーバーレイが表示される
   - **完了まで数十秒～数分かかる場合があります**
   - **完了するまでブラウザを操作しないでください**

3. **取得完了後、自動的にページがリロード**
   - 全データが表示され、ソートボタンが利用可能になる

4. **ソートして条件に合う求人を探す**

### リセット

「リセット (再読み込み)」ボタンで元の状態に戻ります。

## 技術仕様

### ファイル構成

```
hellowork_enhancer/
├── manifest.json    # Chrome拡張機能のマニフェスト
├── content.js       # コンテンツスクリプト (メインロジック)
├── styles.css       # UIスタイル
└── README.md        # このファイル
```

### 動作原理

1. **データ解析**: ページ内の `table.kyujin` 要素から賃金・就業時間を抽出
2. **自動巡回**: sessionStorageを利用して状態を保持し、「次へ」ボタンを自動クリック
3. **ソート**: 抽出データを基準に応じてソートし、DOM要素を並び替え

### 対応サイト

- `https://www.hellowork.mhlw.go.jp/kensaku/*`

## トラブルシューティング

### パネルが表示されない
- 正しい検索結果ページにいるか確認してください
- 拡張機能が有効になっているか `chrome://extensions` で確認してください
- ページを再読み込みしてみてください

### 全件取得が途中で止まる
- ネットワーク接続を確認してください
- ページ読み込みが遅い場合、タイムアウトすることがあります
- ブラウザのコンソール (F12) でエラーメッセージを確認してください

### ソート結果がおかしい
- 求人情報に賃金や就業時間の記載がない場合、正しくソートできません
- 「リセット」ボタンで元の状態に戻してから再試行してください

## ライセンス

MIT License

## 貢献

バグ報告や機能要望は [Issues](https://github.com/h4mmerjp/hellowork_enhancer/issues) までお願いします。

プルリクエストも歓迎します！

## 免責事項

この拡張機能は非公式のツールです。ハローワークの利用規約に従ってご利用ください。

## 作者

[@h4mmerjp](https://github.com/h4mmerjp)
